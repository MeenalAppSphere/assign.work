<!-- section 1 -->
<section id="settings-page">
  <ul class="setting-tab-btn">
    <li>
      <a href="javascript:void(0);" nz-button nzType="default" [ngClass]="{'active':activeView.view==='collaborators'}" (click)="activeTab('collaborators', 'Collaborators')">
        <i class="fas fa-user-friends"></i>
        Collaborators
      </a>
    </li>
    <li>
      <a href="javascript:void(0);" nz-button nzType="default" [ngClass]="{'active':activeView.view==='stages'}" (click)="activeTab('stages', 'Stages')">
        <i class="fas fa-bars"></i>
        Stages
      </a>
    </li>
    <li>
      <a href="javascript:void(0);" nz-button nzType="default" [ngClass]="{'active':activeView.view==='taskType'}" (click)="activeTab('taskType', 'Task Type')">
        <i class="fab fa-accusoft"></i>
        Task Type
      </a>
    </li>
  </ul>
  <section>
    <nz-card nzTitle="{{activeView.title}}" style="min-height:420px; overflow: scroll;">
      <ng-container *ngIf="activeView.view==='collaborators'">
        <section class="row">
          <aside class="col-md-3">
            <form nz-form class="register-form" [formGroup]="collaboratorForm">
              <nz-form-item>
                <label>Search or Invite Collaborator</label>
                <input
                  autocomplete="Off"
                  type="email"
                  formControlName="collaborators"
                  [(ngModel)]="selectedCollaborator"
                  (typeaheadOnSelect)="typeaheadOnSelect($event)"
                  [typeahead]="teamsList"
                  typeaheadOptionField="emailId"
                  placeholder="Search or Invite people"
                  (keydown)="onKeydown($event)"
                  nz-input nzSize="small">
                </nz-form-item>
                <nz-form-explain class="text-danger m-b-15" *ngIf="response && response.message">{{response.message}}</nz-form-explain>
                <nz-form-item>
                  <button (click)="addCollaborators()" [disabled]="!enableInviteBtn" nz-button nzType="primary" nzSize="small">
                    <i nz-icon nzType="mail" theme="outline"></i> Invite
                  </button>
                </nz-form-item>
              <p>Note: If user not available into list then you type email id and then invite them directly.</p>
            </form>
          </aside>
          <aside class="col-md-3">
            <nz-form-label>Collaborators</nz-form-label>
            <ul class="stages-list">
              <li *ngFor="let item of selectedCollaborators">
                <a href="mailto:{{item.emailId}}">
                <img src="../../assets/images/avatars/thumb-4.jpg" height="20" class="m-r-10"/>
                <span>{{item.emailId}}</span><br>
                <span class="p-l-25 text-muted small">{{item.firstName}} {{item.lastName}}</span>
                </a>
                <i (click)="removeCollaborators(item)" nz-icon nzType="close" theme="outline" class="float-right"></i>
              </li>
            </ul>
          </aside>
        </section>
      </ng-container>
      <!-- end stages -->
      <ng-container *ngIf="activeView.view==='stages'">
        <section class="row">
          <aside class="col-md-3">
          <form nz-form (submit)="addStage()" [formGroup]="stageForm">
            <nz-form-item>
              <nz-form-label>Stage title</nz-form-label>
              <nz-form-control>
                <input nz-input nzSize="small" formControlName="title" placeholder="Stage title" maxlength="30"/>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
               <button nz-button nzType="primary" nzSize="small">Add</button>
            </nz-form-item>
          </form>
          </aside>
          <aside class="col-md-3">
            <nz-form-label>Default Stages</nz-form-label>
            <ul class="stages-list">
              <li *ngFor="let item of stagesList"><span>{{item.name}}</span>
                <i (click)="removeStage(item)" nz-icon nzType="close" theme="outline" class="float-right"></i>
              </li>
            </ul>
          </aside>
        </section>
      </ng-container>
      <!-- end stages -->
      <ng-container *ngIf="activeView.view==='taskType'">
        <section class="row">
<!--          <aside class="col-md-3">-->
<!--            <form nz-form>-->
<!--              <nz-form-item>-->
<!--                <nz-form-label>Type</nz-form-label>-->
<!--                <nz-form-control>-->
<!--                  <input nz-input nzSize="small" placeholder="Type" maxlength="30"/>-->
<!--                </nz-form-control>-->
<!--              </nz-form-item>-->
<!--              <nz-form-item>-->
<!--                <button nz-button nzType="primary" nzSize="small">Add</button>-->
<!--              </nz-form-item>-->
<!--            </form>-->
<!--          </aside>-->
          <aside class="col-md-3">
            <nz-form-label>Default Types</nz-form-label>
            <ul class="stages-list">
              <li *ngFor="let item of typesList">
                <img src="../../assets/images/priority/{{item.value}}.png" height="16" class="m-r-10"/>
                <span>{{item.name}}</span>
              </li>
            </ul>
          </aside>
        </section>
      </ng-container>
      <!-- end taskType -->

    </nz-card>
  </section>

</section>

